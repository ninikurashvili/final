import{a as g,b as v}from"./chunk-N23URJYW.js";import{h as B}from"./chunk-MUENI3WD.js";import{a as A}from"./chunk-ODGVGKPQ.js";import"./chunk-AA7YHGA7.js";import"./chunk-4JNOYXIX.js";import{$ as C,Ba as a,Ca as M,O as w,Qa as x,Sa as s,Ua as P,Va as I,Wa as T,Xa as c,Y as _,Ya as o,Za as h,ab as F,bb as k,cb as f,ib as d,ja as S,jb as l,ka as y,kb as O,pb as D,rb as E,tb as u,ub as p,ya as b}from"./chunk-3KFIUI6B.js";var j=e=>["/single-product",e];function V(e,i){if(e&1&&(c(0,"span",5),d(1),u(2,"convertprice"),o()),e&2){let r=f(2);a(),O("\u10E4\u10D0\u10E1\u10D3\u10D0\u10D9\u10DA\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E4\u10D0\u10E1\u10D8: ",p(2,1,r.calculateDiscountedPrice(r.productOfCart.price,r.productOfCart.discountPercentage)),"")}}function z(e,i){if(e&1&&(c(0,"span",5),d(1),u(2,"convertprice"),o()),e&2){let r=f(2);a(),O(" ",p(2,1,r.productOfCart.price)," ")}}function N(e,i){if(e&1){let r=F();c(0,"div",0)(1,"a",1)(2,"div"),h(3,"img",2),o()(),c(4,"div",3)(5,"a",4)(6,"h6"),d(7),o(),x(8,V,3,3,"span",5)(9,z,3,3),o(),c(10,"div",6)(11,"button",7),k("click",function(){S(r);let n=f();return y(n.removeFromCart())}),d(12," \u10EC\u10D0\u10E8\u10DA\u10D0 "),o()()()()}if(e&2){let r=f();a(),s("routerLink",E(5,j,r.productOfCart.id)),a(2),s("src",r.productOfCart.images[0],b),a(2),s("routerLink",E(7,j,r.productOfCart.id)),a(2),l(r.productOfCart.title),a(),P(8,r.productOfCart&&r.productOfCart.discountPercentage>15?8:9)}}var L=(()=>{let i=class i{constructor(t){this.sharedService=t,this.productOfCart=null}removeFromCart(){this.productOfCart&&this.productOfCart.id&&this.sharedService.deleteProductId(this.productOfCart.id)}calculateDiscountedPrice(t,n){return Number((t-t*n/100).toFixed(2))}};i.\u0275fac=function(n){return new(n||i)(M(v))},i.\u0275cmp=C({type:i,selectors:[["app-cartproduct"]],inputs:{productOfCart:"productOfCart"},standalone:!0,features:[D],decls:1,vars:1,consts:[[1,"contain","shadow","p-2","mb-5","bg-white","rounded"],[3,"routerLink"],["alt","First slide",1,"proimg","d-block","w-100",3,"src"],[1,"info"],["title","techdescription",1,"description",3,"routerLink"],[1,"newprice"],[1,"d-flex","justify-content-end","mt-3"],[1,"btn","btn-success",3,"click"]],template:function(n,m){n&1&&x(0,N,13,9,"div",0),n&2&&P(0,m.productOfCart?0:-1)},dependencies:[g,B],styles:[".contain[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;height:150px}.contain[_ngcontent-%COMP%]   .proimg[_ngcontent-%COMP%]{object-fit:contain;height:100px}.contain[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-right:2rem}.contain[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}"]});let e=i;return e})();var R=(e,i)=>i.id;function U(e,i){if(e&1&&h(0,"app-cartproduct",2),e&2){let r=i.$implicit;s("productOfCart",r)}}var et=(()=>{let i=class i{constructor(){this.productIds=new Set,this.products=new Set,this.priceToPay=0,this.productService=_(A),this.sharedService=_(v)}ngOnInit(){this.sharedService.productIds$.subscribe(t=>{this.productIds.clear(),this.productIds=t,this.updateCart()}),this.sharedService.productDeleted$.subscribe(t=>{this.removeProductById(t),this.recalculatePrice()})}updateCart(){this.products.clear(),this.priceToPay=0,this.productIds.forEach(t=>{this.productService.getProductById(t.toString()).pipe(w(n=>{n.id!==126&&(this.products.add(n),this.updatePrice(n))})).subscribe()})}removeProductById(t){this.products.forEach(n=>{n.id===t&&this.products.delete(n)})}recalculatePrice(){this.priceToPay=0,this.products.forEach(t=>{this.updatePrice(t)})}updatePrice(t){t.discountPercentage>15?this.priceToPay+=Number((t.price-t.price*t.discountPercentage/100).toFixed(2)):this.priceToPay+=t.price}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=C({type:i,selectors:[["app-cart"]],standalone:!0,features:[D],decls:28,vars:9,consts:[[1,"wholecart","m-5"],[1,"item-1"],[3,"productOfCart"],[1,"pricecard","item-2"],[1,"shadow","p-2","mb-5","bg-white","rounded"],[1,"d-flex","flex-row","justify-content-between","m-4"],[1,"d-grid","text-center","m-4"],[1,"btn","btn-success","align-center"]],template:function(n,m){n&1&&(c(0,"section",0)(1,"div",1),I(2,U,1,1,"app-cartproduct",2,R),o(),c(4,"section",3)(5,"div",4)(6,"div",5)(7,"h6"),d(8,"\u10E6\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D4\u10D1\u10D0"),o(),c(9,"h6"),d(10),u(11,"convertprice"),o()(),c(12,"div",5)(13,"h6"),d(14,"\u10DB\u10D8\u10EC\u10DD\u10D3\u10D4\u10D1\u10D8\u10E1 \u10E6\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D4\u10D1\u10D0"),o(),c(15,"h6"),d(16),u(17,"convertprice"),o()()(),c(18,"div",4)(19,"div",5)(20,"h6"),d(21,"\u10D2\u10D0\u10D3\u10D0\u10E1\u10D0\u10EE\u10D3\u10D4\u10DA\u10D8 \u10D7\u10D0\u10DC\u10EE\u10D0"),o(),c(22,"h6"),d(23),u(24,"convertprice"),o()(),c(25,"div",6)(26,"button",7),d(27,"\u10E7\u10D8\u10D3\u10D5\u10D0"),o()()()()()),n&2&&(a(2),T(m.products),a(8),l(p(11,3,m.priceToPay)),a(6),l(p(17,5,0)),a(7),l(p(24,7,m.priceToPay)))},dependencies:[L,g],styles:[".wholecart[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:60px}.wholecart[_ngcontent-%COMP%]   .pricecard[_ngcontent-%COMP%]{width:70%}.wholecart[_ngcontent-%COMP%]   .pricecard[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{background-color:#ec5e2a;border:#ec5e2a}@media (max-width: 769px){.wholecart[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr}.wholecart[_ngcontent-%COMP%]   .item-2[_ngcontent-%COMP%]{grid-row:1;font-size:10px}.wholecart[_ngcontent-%COMP%]   .item-1[_ngcontent-%COMP%]{grid-row:2}.wholecart[_ngcontent-%COMP%]   .pricecard[_ngcontent-%COMP%]{width:100%}}@media (max-width: 375px){.wholecart[_ngcontent-%COMP%]{margin:0!important}}"]});let e=i;return e})();export{et as default};
